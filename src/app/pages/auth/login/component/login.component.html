<div class="d-flex flex-column vh-100 justify-content-center align-items-center bg-color-secondary">
  <div class="col-11 col-md-8 col-lg-5 mx-auto row shadow-lg rounded-3 bg-white">
    <div class="col-md-4 d-flex justify-content-center align-items-center p-4">
      <img src="assets/images/dummy-logo.png" alt="Enigma Camp Logo" class="img-fluid" />
    </div>
    <div class="col-md-8 p-4">
      <div class="d-flex flex-column">
        <span class="ff-poppins fw-600 fs-28 tc-quaternary text-center">
          Welcome Back!
        </span>
        <span class="ff-poppins fw-400 fs-14 tc-quaternary text-center mb-4">
          type your account
        </span>

        <!-- handle Error -->
        @if (errorMessage && errorMessage.statusCode) {
          <div class="alert d-flex align-items-start" role="alert"
            [ngClass]="errorMessage && errorMessage.statusCode === 400 ? 'alert-warning' : 'alert-danger'"
          >
            <i class="bi bi-exclamation-circle me-2"></i>
            <div>
              {{ errorMessage && errorMessage.message ? errorMessage.message : '' }}
            </div>
          </div>
          }
          
        <form [formGroup]="loginForm" (ngSubmit)="ngSubmit()">
          <div class="mb-3">
            <span class="ff-poppins fw-400 fs-16 text-muted text-center mb-4">
              Username
            </span>
            <input
                type="text"
                id="username"
                class="form-control"
                formControlName="username"
                placeholder="username"
              />
              <div *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched" class="text-danger">
                <small *ngIf="loginForm.get('username')?.errors?.['required']">username is required.</small>
              </div>
          </div>
          <div class="mb-3">
            <span class="ff-poppins fw-400 fs-16 text-muted text-center mb-4">
              Password
            </span>
            <div class="position-relative">
              <input
                [type]="getInputType()"
                id="password"
                class="form-control"
                formControlName="password"
                placeholder="password"
              />
              <button
                type="button"
                class="btn position-absolute bg-transparent border-0 p-0"
                (click)="toggleShowPassword()"
                style="top: 50%; right: 12px; transform: translateY(-50%);"
              >
                <i *ngIf="!showPassword" class="bi bi-eye-slash"></i>
                <i *ngIf="showPassword" class="bi bi-eye"></i>
              </button>
            </div>
            <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" class="text-danger">
              <small *ngIf="loginForm.get('password')?.errors?.['required']">Password is required.</small>
            </div>
          </div>




          <div class="d-flex flex-column">
            <button
              type="submit"
              [disabled]="!loginForm.valid"
              class="btn btn-quaternary btn-block w-100"
            >
              Login
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>